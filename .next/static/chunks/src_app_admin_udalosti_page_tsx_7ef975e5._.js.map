{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/Church/Church%20Now/src/app/admin/udalosti/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\ntype Udalost = {\n  _id?: string;\n  title: string;\n  date: string;\n  description: string;\n};\n\nexport default function UdalostiAdmin() {\n  const [udalosti, setUdalosti] = useState<Udalost[]>([]);\n  const [form, setForm] = useState({ title: \"\", date: \"\", description: \"\" });\n\n  useEffect(() => {\n    fetch(\"/api/udalosti\")\n      .then((res) => res.json())\n      .then(setUdalosti);\n  }, []);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    await fetch(\"/api/udalosti\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(form),\n    });\n    setForm({ title: \"\", date: \"\", description: \"\" });\n    const res = await fetch(\"/api/udalosti\");\n    setUdalosti(await res.json());\n  };\n\n  const handleDelete = async (_id: string) => {\n    await fetch(\"/api/udalosti\", {\n      method: \"DELETE\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ _id }),\n    });\n    const res = await fetch(\"/api/udalosti\");\n    setUdalosti(await res.json());\n  };\n\n  return (\n    <div>\n      <h1>Správa udalostí</h1>\n      <form onSubmit={handleSubmit}>\n        <input\n          name=\"title\"\n          placeholder=\"Názov udalosti\"\n          value={form.title}\n          onChange={handleChange}\n          required\n        />\n        <input\n          name=\"date\"\n          type=\"date\"\n          value={form.date}\n          onChange={handleChange}\n          required\n        />\n        <textarea\n          name=\"description\"\n          placeholder=\"Popis\"\n          value={form.description}\n          onChange={handleChange}\n        />\n        <button type=\"submit\">Pridať udalosť</button>\n      </form>\n      <ul>\n        {udalosti.map((u) => (\n          <li key={u._id}>\n            <strong>{u.title}</strong> ({u.date})<br />\n            {u.description}\n            <button onClick={() => u._id && handleDelete(u._id)}>Vymazať</button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAWe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACtD,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QAAE,OAAO;QAAI,MAAM;QAAI,aAAa;IAAG;IAExE,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACR,MAAM,iBACH,IAAI;2CAAC,CAAC,MAAQ,IAAI,IAAI;0CACtB,IAAI,CAAC;QACV;kCAAG,EAAE;IAEL,MAAM,eAAe,CAAC;QACpB,QAAQ;YAAE,GAAG,IAAI;YAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QAAC;IACrD;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,MAAM,MAAM,iBAAiB;YAC3B,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACvB;QACA,QAAQ;YAAE,OAAO;YAAI,MAAM;YAAI,aAAa;QAAG;QAC/C,MAAM,MAAM,MAAM,MAAM;QACxB,YAAY,MAAM,IAAI,IAAI;IAC5B;IAEA,MAAM,eAAe,OAAO;QAC1B,MAAM,MAAM,iBAAiB;YAC3B,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAI;QAC7B;QACA,MAAM,MAAM,MAAM,MAAM;QACxB,YAAY,MAAM,IAAI,IAAI;IAC5B;IAEA,qBACE,6LAAC;;0BACC,6LAAC;0BAAG;;;;;;0BACJ,6LAAC;gBAAK,UAAU;;kCACd,6LAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO,KAAK,KAAK;wBACjB,UAAU;wBACV,QAAQ;;;;;;kCAEV,6LAAC;wBACC,MAAK;wBACL,MAAK;wBACL,OAAO,KAAK,IAAI;wBAChB,UAAU;wBACV,QAAQ;;;;;;kCAEV,6LAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO,KAAK,WAAW;wBACvB,UAAU;;;;;;kCAEZ,6LAAC;wBAAO,MAAK;kCAAS;;;;;;;;;;;;0BAExB,6LAAC;0BACE,SAAS,GAAG,CAAC,CAAC,kBACb,6LAAC;;0CACC,6LAAC;0CAAQ,EAAE,KAAK;;;;;;4BAAU;4BAAG,EAAE,IAAI;4BAAC;0CAAC,6LAAC;;;;;4BACrC,EAAE,WAAW;0CACd,6LAAC;gCAAO,SAAS,IAAM,EAAE,GAAG,IAAI,aAAa,EAAE,GAAG;0CAAG;;;;;;;uBAH9C,EAAE,GAAG;;;;;;;;;;;;;;;;AASxB;GAzEwB;KAAA","debugId":null}}]
}